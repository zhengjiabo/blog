
## 以太坊网络
以太坊网络是个账本，以太币在物理上不存在的，一个用户有多少钱，并不是有对应的哪一个以太币归属他，只是账本上记录他具有多少钱。

## UTXO
### 基础概念

区块链的特性：一个东西发给别人后，自己就没了，通过 UTXO (`Unspent Transaction Outputs` 未花费的交易输出)实现。
- `Unspent`: 未花费/未使用
- `Transaction`: 交易
- `Outputs`: 输出

在比特币系统中没有“账户”或“余额”的概念，交易的输入和输出是基于 UTXO 模型的.

每个输入都是之前交易的一个输出（UTXO），而每个交易输出可以成为未来交易的输入。

Alice 拥有10个比特币并想要支付给 Bob 4个比特币：
在创建交易时，Alice 的钱包需要明确指出是哪一个或者哪些 UTXO 被用作本次支付的资金来源。
- `Input: Alice address, Referenced UTXO value (10)`
- `Output 1: Bob address, Amount (4)`
- `Output 2: Alice new address (找零地址), Amount (6)`

这样，Alice 原来的10个比特币的 UTXO 就被消费了，而新生成的两个 UTXO（一个是 Bob 的4个比特币，一个是 Alice 的6个比特币找零）则可以在未来的交易中使用。

虽然看起来通过钱包地址可以查询到“余额”，实际上这个余额是通过统计该钱包地址可以引用的所有未花费的 UTXO 计算出来的。
每次交易时，必须指明具体使用哪些 UTXO 作为资金来源，这是比特币协议核心的一部分。

### UTXO 携带额外信息
在比特币中，交易的记录是通过在全节点上维护的区块链完成的，而交易的“状态”实际上是通过追踪所有未花费的交易输出（UTXOs）来隐式表示的，并没有真实的状态变量。

如果对其进行扩展，使其能够携带更多信息（状态）。
则可以直接在交易层面支持更复杂的逻辑和条件，是智能合约的产生的前提，使得 UTXO 不仅限于转账和支付，还能执行各种复杂的操作。

例如转账时，携带更多信息可以携带留言：
描述一个数字艺术作品的唯一标识符、艺术家的名字、作品的标题等，还有“未售“状态。这样这个 UTXO 就代表着这个数字艺术作品，UTXO 归属于谁，数字艺术作品就归属谁。而"已售"和"未售"这样的状态信息可以用在网页上，供其他用户预览和选购。这便是非同质化资产（NFTs）。


携带更多信息，可以为后续的智能合约模型提供数据来源，使得（智能合约/程序/规则）能够执行，执行后改变账目的状态，而智能合约执行的环境就是 EVM（以太坊虚拟机）

当然，有些些区块链平台如 Cardano，试图将 UTXO 模型与智能合约功能结合起来。在这种情况下，UTXO 可以携带额外的数据和规则（可以视为简单的智能合约逻辑），这些数据和规则定义了 UTXO 如何被消费，从而实现了在 UTXO 模型上执行智能合约的能力，称为 EUTXO（扩展的未花费交易输出模型）。

总结：UTXO 携带更多信息可以为后续的智能合约模型服务，在部分区块链平台 UTXO 也可以携带规则，从而实现在 UTXO 模型上执行智能合约的能力


## EVM
以太坊网络是由成千上万的节点组成，使得任何人都可以创建智能合约，EVM (以太坊虚拟机)是智能合约的运行环境，运行在一个完全隔离，不能接触外部网络、文件系统的沙箱里。

### 获取链外数据不安全 ?？
// 需要补充例子

典型例子：交易所
价格由交易所

解决方案：惩罚机制


## 智能合约
无法修改：一旦部署，无法修改







